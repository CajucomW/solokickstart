# Challenge 3 of Jinja Control Flow looks to have the answer to nav links being
# selected when on that page.

# -------Phase 1--------
# Instead of using a fixed list, grab files from the content/ directory to
# build the site 

import glob
import os

all_html_files = glob.glob("content/*.html")
output = glob.glob('docs/*.html')

print(all_html_files)

for html_path in all_html_files:
    print(html_path)
    file_name = os.path.basename(html_path)
    print(file_name)

#    name_only, extension = os.path.splitext(file_name)
#    print(name_only)
#    print(extension)

    pages = []

    pages.append({
        "filename": html_path, 
#        "title": "Index",
        "output": "docs/" + file_name,
        })
    print(pages)

template = open('templates/base.html').read()

def main():
    for page in pages:
        output = (page['output'])
        html_file = open(page['filename']).read()
        combined = template.replace('{{content}}', html_file)
        print(combined)
        open(output, 'w+').write(combined)

        # I can't get this to work.

#            new_title = template.replace('{{title}}', content['title'])
#            open(content['output'], 'w+').write(new_title)

if __name__ == "__main__":
    main()   












